# December 2020, Timo Rey, UniFR - Switzerland

# Hello!
# This is a hopefully dummy-proof installation guide to get you ready to run the processing script provided alongside.
# This should help to really be able to get ready and run the scripts.
# <- hash-tags like this denote text-comments, type the other lines into the shell/prompt.


# Good luck!
# ******************************************************************************

# 0) login to server:
# start VPN through FortiClient with tr10g082
# open any terminal or command prompt and type:
ssh $USER@binfservms01.unibe.ch                                                 # replace $USER with your username
# type in your password and wait to log in.


# 1) make or go to working-directory for this project:
cd /data/users/$USER
mkdir RNAseq                                                                    # make a project folder
cd RNAseq


# 2) install SRA-toolkit
mkdir 00_Software                                                               # make new directory to store all software
cd software                                                                     # go to that directory
wget --output-document sratoolkit.tar.gz http://ftp-trace.ncbi.nlm.nih.gov/sra/sdk/current/sratoolkit.current-centos_linux64.tar.gz
tar -vxzf sratoolkit.tar.gz                                                     # unzip the just downloaded file
# can check by running: which fastq-dump


# 3) install FastQC
# note: jre is pre-installed on IBU-server <- you may need to install this before running FastQC
wget --output-document fastqc_v0.11.9.zip https://www.bioinformatics.babraham.ac.uk/projects/fastqc/fastqc_v0.11.9.zip
unzip fastqc_v0.11.9.zip                                                        # unzips & creates new directory "FastQC"
chmod 777 -R FastQC/                                                            # give rights to all files within FastQC directory
# can check by running: fastqc --help


# 4) install bowtie
wget --output-document bowtie-1.3.0-linux-x86_64.zip https://sourceforge.net/projects/bowtie-bio/files/bowtie/1.3.0/bowtie-1.3.0-linux-x86_64.zip/download
unzip bowtie-1.3.0-linux-x86_64.zip


# 5) install SAM-tools





# 6) install Ribo-seQC





#6_A) download the processing script from github
cd /data/users/$USER/RNAseq/

# https://github.com/TimoHenry/RiboSeq_project/blob/main/BASH_it_all_SeqProcessing.sh

#6_B) clone the project from github                                             # you could also clone, or fork the underlying github repository and contribute to its extension.
git clone https://github.com/TimoHenry/RiboSeq_project.git                      # but if you're already into that, you probably would not need this 'dummies guide' for downloading software...

#7) Configure sra-toolkit before use
# To enable SRA-tools, it needs to be configured as described here:             # on our server, this needs to be re-done every time one logs out [tuple is re-set to its original value]
# https://github.com/ncbi/sra-tools/wiki/03.-Quick-Toolkit-Configuration
# note: you must give the path, to run vdb
./00_Software/sratoolkit.2.10.8.centos_linux64/bin/vdb-config -i                # if you are using the same directory-layout, run it like this.
# hint: specify the output directory as this: /data/users/$USER/RNAseq/01_Data/00_SRA_rawSeq

#8) run the processing script.
# type and run:
./BASH_it_all_SeqProcessing.sh                                                  # the '.' tells to look for the file in the current directory. This can be modified to any other location.
